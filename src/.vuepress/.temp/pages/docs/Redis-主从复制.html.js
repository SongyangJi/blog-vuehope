export const data = JSON.parse("{\"key\":\"v-5ede31ee\",\"path\":\"/docs/Redis-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6.html\",\"title\":\"Redis-主从复制\",\"lang\":\"zh-CN\",\"frontmatter\":{\"title\":\"Redis-主从复制\",\"date\":\"2021-12-09T13:19:34.000Z\",\"categories\":\"Redis\",\"tags\":[\"NoSQL\",\"Redis\",\"分布式\"],\"description\":\"主从复制 概述 主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点(master)，后者称为从节点(slave)；数据的复制是单向的，只能由主节点到从节点。 默认情况下，每台Redis服务器都是主节点；且一个主节点可以有多个从节点(或没有从节点)，但一个从节点只能有一个主节点。 主从复制的作用 主从复制的作用主要包括： 数据备份：主从复制实现了数据的热备份，是持久化之外的一种数据冗余方式。 故障恢复：当主节点出现问题时，可以由从节点提供服务，实现快速的故障恢复；实际上是一种服务的冗余。 负载均衡：在主从复制的基础上，配合读写分离，可以由主节点提供写服务，由从节点提供读服务（即写Redis数据时应用连接主节点，读Redis数据时应用连接从节点），分担服务器负载；尤其是在写少读多的场景下，通过多个从节点分担读负载，可以大大提高Redis服务器的并发量。 默认情况下，从库只能读，不可写。 高可用基石：除了上述作用以外，主从复制还是哨兵和集群能够实施的基础，因此说主从复制是Redis高可用的基础。\"},\"headers\":[{\"level\":2,\"title\":\"概述\",\"slug\":\"概述\",\"link\":\"#概述\",\"children\":[]},{\"level\":2,\"title\":\"使用方法\",\"slug\":\"使用方法\",\"link\":\"#使用方法\",\"children\":[]},{\"level\":2,\"title\":\"上手实战\",\"slug\":\"上手实战\",\"link\":\"#上手实战\",\"children\":[]},{\"level\":2,\"title\":\"主从复制的步骤\",\"slug\":\"主从复制的步骤\",\"link\":\"#主从复制的步骤\",\"children\":[{\"level\":3,\"title\":\"连接建立阶段\",\"slug\":\"连接建立阶段\",\"link\":\"#连接建立阶段\",\"children\":[]},{\"level\":3,\"title\":\"数据同步阶段\",\"slug\":\"数据同步阶段\",\"link\":\"#数据同步阶段\",\"children\":[]},{\"level\":3,\"title\":\"命令传播阶段\",\"slug\":\"命令传播阶段\",\"link\":\"#命令传播阶段\",\"children\":[]}]},{\"level\":2,\"title\":\"数据同步阶段（全量复制和部分复制）\",\"slug\":\"数据同步阶段-全量复制和部分复制\",\"link\":\"#数据同步阶段-全量复制和部分复制\",\"children\":[{\"level\":3,\"title\":\"全量复制\",\"slug\":\"全量复制\",\"link\":\"#全量复制\",\"children\":[]},{\"level\":3,\"title\":\"增量复制\",\"slug\":\"增量复制\",\"link\":\"#增量复制\",\"children\":[]}]},{\"level\":2,\"title\":\"命令传播阶段（心跳机制）\",\"slug\":\"命令传播阶段-心跳机制\",\"link\":\"#命令传播阶段-心跳机制\",\"children\":[{\"level\":3,\"title\":\"主->从 : PING\",\"slug\":\"主-从-ping\",\"link\":\"#主-从-ping\",\"children\":[]},{\"level\":3,\"title\":\"从->主：REPLCONF ACK\",\"slug\":\"从-主-replconf-ack\",\"link\":\"#从-主-replconf-ack\",\"children\":[]}]},{\"level\":2,\"title\":\"1. 读写分离及其中的问题\",\"slug\":\"_1-读写分离及其中的问题\",\"link\":\"#_1-读写分离及其中的问题\",\"children\":[{\"level\":3,\"title\":\"（1）延迟与不一致问题\",\"slug\":\"_1-延迟与不一致问题\",\"link\":\"#_1-延迟与不一致问题\",\"children\":[]},{\"level\":3,\"title\":\"（2）数据过期问题\",\"slug\":\"_2-数据过期问题\",\"link\":\"#_2-数据过期问题\",\"children\":[]},{\"level\":3,\"title\":\"（3）故障切换问题\",\"slug\":\"_3-故障切换问题\",\"link\":\"#_3-故障切换问题\",\"children\":[]}]},{\"level\":2,\"title\":\"2. 各场景下复制的选择及优化技巧\",\"slug\":\"_2-各场景下复制的选择及优化技巧\",\"link\":\"#_2-各场景下复制的选择及优化技巧\",\"children\":[{\"level\":3,\"title\":\"（1）第一次建立复制\",\"slug\":\"_1-第一次建立复制\",\"link\":\"#_1-第一次建立复制\",\"children\":[]},{\"level\":3,\"title\":\"（2）主节点重启\",\"slug\":\"_2-主节点重启\",\"link\":\"#_2-主节点重启\",\"children\":[]},{\"level\":3,\"title\":\"（3）从节点重启\",\"slug\":\"_3-从节点重启\",\"link\":\"#_3-从节点重启\",\"children\":[]},{\"level\":3,\"title\":\"（4）网络中断\",\"slug\":\"_4-网络中断\",\"link\":\"#_4-网络中断\",\"children\":[]}]},{\"level\":2,\"title\":\"3. 复制相关的配置\",\"slug\":\"_3-复制相关的配置\",\"link\":\"#_3-复制相关的配置\",\"children\":[{\"level\":3,\"title\":\"（1）与主从节点都有关的配置\",\"slug\":\"_1-与主从节点都有关的配置\",\"link\":\"#_1-与主从节点都有关的配置\",\"children\":[]},{\"level\":3,\"title\":\"（2）主节点相关配置\",\"slug\":\"_2-主节点相关配置\",\"link\":\"#_2-主节点相关配置\",\"children\":[]},{\"level\":3,\"title\":\"（3）从节点相关配置\",\"slug\":\"_3-从节点相关配置\",\"link\":\"#_3-从节点相关配置\",\"children\":[]}]}],\"readingTime\":{\"minutes\":23.64,\"words\":7091},\"filePathRelative\":\"docs/Redis-主从复制.md\",\"localizedDate\":\"2021年12月9日\",\"excerpt\":\"<h1> 主从复制</h1>\\n<h2> 概述</h2>\\n<p>主从复制，是指将一台Redis服务器的数据，复制到其他的Redis服务器。前者称为主节点(master)，后者称为从节点(slave)；数据的复制是单向的，只能由主节点到从节点。</p>\\n<p>默认情况下，每台Redis服务器都是主节点；且一个主节点可以有多个从节点(或没有从节点)，但一个从节点只能有一个主节点。</p>\\n<p><strong>主从复制的作用</strong></p>\\n<p>主从复制的作用主要包括：</p>\\n<ol>\\n<li>\\n<p><strong>数据备份</strong>：主从复制实现了<strong>数据的热备份</strong>，是持久化之外的一种数据冗余方式。</p>\\n</li>\\n<li>\\n<p>故障恢复：当主节点出现问题时，可以由从节点提供服务，实现快速的故障恢复；实际上是一种服务的冗余。</p>\\n</li>\\n<li>\\n<p><strong>负载均衡</strong>：在主从复制的基础上，配合<strong>读写分离</strong>，可以<strong>由主节点提供写服务，由从节点提供读服务</strong>（即写Redis数据时应用连接主节点，读Redis数据时应用连接从节点），分担服务器负载；尤其是在写少读多的场景下，通过多个从节点分担读负载，可以大大提高Redis服务器的并发量。</p>\\n<p>默认情况下，从库只能读，不可写。</p>\\n</li>\\n<li>\\n<p>高可用基石：除了上述作用以外，<strong>主从复制还是哨兵和集群能够实施的基础</strong>，因此说主从复制是Redis高可用的基础。</p>\\n</li>\\n</ol>\",\"autoDesc\":true}")

if (import.meta.webpackHot) {
  import.meta.webpackHot.accept()
  if (__VUE_HMR_RUNTIME__.updatePageData) {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  }
}

if (import.meta.hot) {
  import.meta.hot.accept(({ data }) => {
    __VUE_HMR_RUNTIME__.updatePageData(data)
  })
}
